[
["index.html", "DPH206 2020 Handbook Methods for Analysing Public Health IV: Working in the Field: Data 1 O1 1.1 Basic Information 1.2 What you can expect from the module 1.3 Further Information 1.4 Required materials 1.5 Markdown syntax 1.6 Seminar/practice", " DPH206 2020 Handbook Methods for Analysing Public Health IV: Working in the Field: Data Dr. Lei HAN, Dr. Peng ZHAO 2020-02-29 1 O1 1.1 Basic Information 1.1.1 Key Module Information DPH 206 introduces students to the fieldwork in public health and provides the opportunity to conduct and analyse their own research data. Students will learn principles of data management and presentation, conduct of qualitative and quantitative studies, data analysis, how to recognize and control bias, and ethical issues in the conduct of research. Module name: Methods for Analysing Public Health IV: Working in the Field: Data Module code: DPH 206 Credit value: 5 Semester in which the module is taught: Semester s Pre-requisites needed for the module: DPH 205 Programs on which the module is shared: BSc Public Health 1.1.2 Delivery Schedule 2020.02.24 – 2020.04.05 Lecture room: Online teaching Lecture time: 14:00 - 16:00, Monday. Tutorial time: flexible on Github (open an issue as soon as you have a question). Seminar/practice room: Online. Seminar/practice time: 14:00 – 16:00, Thursday. 2020.04.06 – 2020.06.12 Lecture room: TBD. Lecture time: TBD. Tutorial time: TBD. Seminar time: TBD. 1.1.3 Module Leader, Teaching Staff and Contact Details Module leader Dr. Lei HAN Email: lei.han@xjtlu.edu.cn Office telephone number: TBD. Room number and office hours: TBD. Preferred means of contact: email Involved teacher Dr. Peng ZHAO Why involved: Learning R (Zhao &amp; Li, 2018); nCoV website (Zhao et al., 2020) Email address: peng.zhao@xjtlu.edu.cn Office telephone number: TBD. Room number and office hours: TBD. Preferred means of contact: email 1.2 What you can expect from the module 1.2.1 Educational Aims This course aims to provide the student with a basic understanding of methods and issues involved with collecting, processing, analysing, and presenting data. 1.2.2 Learning Outcomes Employ basic public health research. Demonstrate the use of core public health research principles in the field. Appropriately examine and interpret research findings. Appraise findings and formulate the conclusions of this research. 1.2.3 Assessment Details The assessment is composed of assignments (40% of total mark), an oral presentation (20%), and a final poster presentation (40%). The assignments will be: calculating data statistics, plotting figures for data visualization, sampling and recording data, presenting data in slides, drawing mind maps for research design and data processing, analysing data in a draft of an article, displaying data in an academic poster, and sharing data on a research website. The oral presentation will be: a 10-minute oral presentation with slides, followed by a 5-minute question time. The final poster presentation will be: a one-hour’s poster presentation, reviewed by multiple teachers/students. 1.2.4 Methods of Learning and Teaching The course will be delivered through a series of lectures, seminars, case study presentations, and group work. The students will be required to participate in seminars through presentation and discussion. Students are expected to spend an adequate amount of time in private independent study and are expected to have read relevant materials before class. 1.2.5 Syllabus &amp; Teaching Plan No. Week Lecture Seminar/practice Assignments 1 O1 - Course Review- Preparation of required materials - Markdown - R markdown - Reproducible reports 2 O2 - Software for data analysis - R essentials - R packages - R programming basics Assign. 1 3 O3 - Data visualization - Plot figures from students’ own datasets Assign. 2 4 O4 - Data formats - R Tidyverse - Process example datasets with R Assign. 3 5 O5 - GIS and Time - Process time data - Plot maps 6 O6 - Slides - Make slides for oral presentation Assign. 4 7 W1 - Hypotheses - Research Plan - Data sampling - Create research ideas with mind maps - Make plans Assign. 5 8 W2 - Data analysis in journal articles - Bibliography - Equations - Write a draft of an article Assign. 6 9 W3 - Posters - Make a poster Assign. 7 10 W4 - Data on research websites - Build a research website Assign. 8 11 W5 - Open Data and Open Science - Reproducible research - Git 12 W6 - Revisiting the data import - Process various types of data 13 W7 Project Management - Manage students’ own scientific projects 1.2.6 Reading Materials Mandatory textbook Wickham, Hadley and Garrett Grolemund (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media, Inc. &lt;URL: https://r4ds.had.co.nz/&gt;. Xie, Yihui, J J Allaire, and Garrett Grolemund (2019). R Markdown: The Definitive Guide. Taylor &amp; Francis. &lt;URL: https://bookdown.org/yihui/rmarkdown/&gt;. Optional textbook Guest, Greg and Emily E Namey (2014). Public health research methods. SAGE publications, ISBN 978-1452241333. Picardi, Carrie A and Kevin D Masick (2013). Research methods: Designing and conducting research with a real-world focus. Sage Publications, ISBN 978-1452230337. Peng Zhao and Yi Li (2018). Learning R: From the Very Beginning. Research Press. &lt;URL: http://xuer.pzhao.org/&gt;. Yihui Xie, Xiangyun Huang, Peng Zhao (2019). Modern Statistical Graphics (2nd Edition). &lt;URL: https://msg-book.netlify.com/&gt;. 1.3 Further Information 1.3.1 Student Feedback The University is keen to elicit student feedback to make improvements for each module in every session. It is the University policy that the preferred way of achieving this is by means of an Online Module Evaluation Questionnaire Survey. Students will be invited to complete the questionnaire survey for this module at the end of the semester. You are strongly advised to read the policies mentioned below very carefully, which will help you better perform in your academic studies. All the policies and regulations related to your academic study can be found in Student Academic Services section under the heading “Policies and Regulations” on E-bridge. 1.3.2 Plagiarism, Cheating, and Fabrication of Data. Offences of this type can result in attendance at a University-level committee and penalties being imposed. You need to be familiar with the rules. Please see the “Academic Integrity Policy” available on e-Bridge in the Student Academic Services section under the heading ‘Policies and Regulations’. 1.3.3 Rules of submission for assessed coursework The University has detailed rules and procedures governing the submission of assessed coursework. You need to be familiar with them. Details can be found in the “Code of Practice for Assessment” available on e-Bridge in the Student Academic Services section under the heading ‘Policies and Regulations’. 1.3.4 Late Submission of Assessed Coursework The University attaches penalties to the late submission of assessed coursework. You need to be familiar with the University’s rules. Details can be found in the “Code of Practice for Assessment” available on e-Bridge in the Student Academic Services section under the heading ‘Policies and Regulations’. 1.3.5 Mitigating Circumstances The University is able to take into account mitigating circumstances, such as illness or personal circumstances which may have adversely affected student performance on a module. It is the student’s responsibility to keep their Academic Advisor, Programme Director, or Head of Department informed of illness and other factors affecting their progress during the year and especially during the examination period. Students who believe that their performance on an examination or assessed coursework may have been impaired by illness, or other exceptional circumstances should follow the procedures set out in the “Mitigating Circumstances Policy”, which can be found on e-Bridge in the Student Academic Services section under the heading ‘Policies and Regulations’. 1.3.6 ICE and GitHub Copies of lecture notes and other materials are available electronically through GitHub. They might be moved to ICE, the University’s virtual learning environment at ICE @ XJTLU, in the future. 1.4 Required materials As this module is focused on data analysis, every student must work on a computer with internet access. Either Windows, macOS or Linux is accepted. Data processing and presenting software packages must be installed in your computer. As our assignments will be reproducible, R Markdown is the first choice in the class, and RStudio is an enhanced user interface for R. We are going to work with markdown in the framework of reproducible research, thus Typora is recommended as a markdown editor. If you don’t like R, you can use Jupyter notebook or other software packages for your assignments and presentations. However, all the examples in the lectures will be given in R. Reproducible research by Wikipedia: The term reproducible research refers to the idea that the ultimate product of academic research is the paper along with the laboratory notebooks and full computational environment used to produce the results in the paper such as the code, data, etc. that can be used to reproduce the results and create new work based on the research. Typical examples of reproducible research comprise compendia of data, code and text files, often organised around an R Markdown source document or a Jupyter notebook. Sometimes, if we have to use office packages, LibreOffice is recommended. We WON’T use Microsoft Office (Word, Excel, Powerpoint) in the class unless we have no other choices. After class, you are free to use any software as you like. Exercise: Install R in Windows like this: Open the download page on R official website: https://cran.r-project.org/bin/windows/base/. Click ‘Download R x.x.x for Windows’ (x.x.x is the version, e.g. 3.6.2) at the top of the webpage, and the installation file will be downloaded. Double click the downloaded file and follow the instruction until it is installed. Exercise: Install RStudio like this: Open the download page on the RStudio official website: https://rstudio.com/products/rstudio/download/#download. Click ‘DOWNLOAD RSTUDIO FOR WINDOWS’. Double click the downloaded file and follow the instruction until it is installed. Install Typora like this: Open the download page on Typora official website: https://typora.io/#windows. Click ‘Download Beta (xyy)’ (yy is the microprocessor type of your computer. You can find it by right click This PC – properties) at the top of the webpage, and the installation file will be downloaded. Double click the downloaded file and follow the instruction until it is installed. 1.5 Markdown syntax All your assigned coursework (exercises and assignments) must be reproducible, i.e. given in markdown syntax in this module. Why markdown? For asking questions GitHub Stackoverflow Capital of Statistics For creating scientific products, such as Writing reports/documents/manuscripts/theses Making slides/posters Building websites (ncov2020.org, yihui.org, openr.pzhao.org) For team collaboration and reproducibility Markdown is a lightweight markup language with plain text formatting syntax. Its design allows it to be converted to many output formats, but the original tool by the same name only supports HTML. Markdown is often used to format readme files, for writing messages in online discussion forums, and to create rich text using a plain text editor. — WIKIPEDIA Fig.2. Handwritten and printed markdown Markdown is NOT a certain software package. It is a set of writing rules. Many software packages can open markdown files: Notepad Notepad++ https://stackedit.io/ Typora https://web.marp.app/ (example https://marp.app/) RStudio Table 2. Key Syntax of Markdown You type You get *italic* italic **bold** bold PM~2.5~ subscript \\(\\text{PM}_{2.5}\\) R^2^ superscript \\(\\text{R}^2\\) $E = mc^2$ equations: \\(E = mc^2\\), \\(G = \\sqrt[n]{\\prod_{i = 1}^{n} x_i}\\) [link](https://xjtlu.edu.cn) hyperlink link ![](image) insert an image # Chapter 1 headings 1. list... numbered list - list... unnumbered list You can open Typora, and type the texts in the left column of Table 2. See what happens. Click the &lt;/&gt; button at the left bottom of typora. Click it again. Again. Exercise: Github support markdown. Visit the Markdown Practice issue, and type anything with markdown syntax. Every syntax in Table 2 must be practised. Exercise: Use markdown in your every day study/life and Write a document, a meeting protocol, a diary, a lab report, etc., and present it in the seminar of this week. Exercise: Use markdown in your every day study/life and Write a document, a meeting protocol, a diary, a lab report, etc., and present it in the seminar of this week. Discussion: What academic software for data analysis do you often use in your research area? Make a list and give us a short introduction in the seminar. 1.6 Seminar/practice 1.6.1 Discussion: Software for data analysis Bella RStudio is often used for analyze the correlationships between different variables. Excel is usually used for collect data and do some simple caculations. Wanqi SAS: Use as a beginer. SAS has strong function, and is friendly to many language, while codes may be complex and long. R: I use it for better communication. R studio: I only learn it but haven’t use it in research. Stata: I use it to analysis clinical data for better communication. Hadoop: Big data analysis with better communication. Jane R 1.6.2 Practice: Markdown, R markdown, and reproducible research git "],
["w2.html", "2 O2 2.1 Data analysis software 2.2 R essentials 2.3 R packages 2.4 Assignment 2.5 Seminar/practice", " 2 O2 2.1 Data analysis software Fortran, C Excel, WPS, Libreoffice, OriginLab Visual Basic, R, Python, Matlab, Scilab SPSS, Epi Info, NVivo, ArcGIS Roger D. Peng: I don’t think anyone actually believes that R is designed to make everyone happy. For me, R does about 99% of the things I need to do, but sadly, when I need to order a pizza, I still have to pick up the telephone. Douglas Bates: There are several chains of pizzerias in the U.S. that provide for Internet-based ordering (e.g. www.papajohnsonline.com) so, with the Internet modules in R, it’s only a matter of time before you will have a pizza-ordering function available. Brian D. Ripley: Indeed, the GraphApp toolkit (used for the RGui interface under R for Windows, but Guido forgot to include it) provides one (for use in Sydney, Australia, we presume as that is where the GraphApp author hails from). Alternatively, a Padovian has no need of ordering pizzas with both home and neighbourhood restaurants …. – Roger D. Peng, Douglas Bates, and Brian D. Ripley R-help (June 2004) 2.2 R essentials 2.2.1 RStudio Interface: Hotkeys: ctrl + enter TAB F1 shift + alt + k (see all shortcuts) R project: File - New project - New directory - New project Organize your R scripts and products in a project: Save your related files in the project folder Start your work from the .Rproj file 2.2.2 Data types Six basic data types: numeric: 2, 15.5 character: “a”, “male” logical: TRUE, FALSE integer complex raw x &lt;- 1 class(x) mode(x) Numeric: 1 + 2 - 4 * 5 / 6 ^ 2 c(1:6) ^ 2 round(3.14) sqrt(2) exp(4) log(10) log10(10) x = 1:6 y &lt;- 1:6 # alt + _ x + y mean(x) # min(), max(), range(), mean(), sd(x) # comment Character: x &lt;- c(&#39;m&#39;, &#39;f&#39;) y &lt;- paste(&#39;gender_&#39;, x) y y &lt;- paste0(&#39;gender_&#39;, x) y Logical: 1 &gt; 2 1 &lt;= 2 Simple if(): hour &lt;- 12 if(hour == 12) { print(&#39;Time for lunch. Go!&#39;) } hour &lt;- 12 if()... else... and ifelse(): if(hour &lt; 12) { print(&#39;Good morning.&#39;) } else { print(&#39;Good afternoon.&#39;) } x &lt;- 1:6 x2 &lt;- ifelse(x &lt; mean(x), print(&#39;low&#39;), print(&#39;high&#39;)) x2 Loop: x &lt;- 1:10 # repeat the same work for(i in x){ print(&#39;Hello World!&#39;) } # different work for(i in x){ print(i) } for(i in x){ dir.create(as.character(i)) } for(i in x){ unlink(as.character(i), recursive = TRUE, force = TRUE) } 2.2.3 Import data From manual input: df1 &lt;- data.frame(age = c(21, 31, 23, 40, 36), gender = c(&#39;f&#39;, &#39;m&#39;, &#39;m&#39;, &#39;f&#39;, &#39;f&#39;)) df1 require(tibble) df2 &lt;- tribble( ~age, ~gender, 76, &#39;f&#39;, 79, &#39;m&#39;, 85, &#39;f&#39;, 93, &#39;f&#39;, 88, &#39;m&#39; ) df2 Read from data file (download data): dr1 &lt;- read.csv(&#39;data/death_rate.csv&#39;) dr1 dr2 &lt;- readr::read_csv(&#39;data/death_rate.csv&#39;) dr2 Three tricks for the Support of Chinese: Save the dataset as UTF-8. Set the system locale as Chinese. Read the data file with encoding = 'UTF-8'. Download data before running the following codes. Sys.getlocale() Sys.setlocale(&#39;LC_CTYPE&#39;, &#39;Chinese&#39;) df3 &lt;- read.csv(&#39;data/ncov.csv&#39;) df3 &lt;- read.csv(&#39;data/ncov.csv&#39;, encoding = &#39;UTF-8&#39;) df3 df4 &lt;- readr::read_csv(&#39;data/ncov.csv&#39;) df4 Indexing: df1 df1[1, 2] df1[, 1] df1$age mean(df1$age) mean(df1$age[df1$gender == &#39;f&#39;]) tapply(df1$age, df1$gender, mean) str(df1) str(df1$age) class(df1) dim(df1) rownames(df1) colnames(df1) 2.2.4 Statistics df3 &lt;- read.csv(&#39;data/ncov.csv&#39;, encoding = &#39;UTF-8&#39;) length(df3) ncol(df3) nrow(df3) sum(df3$确诊) sum(df3$确诊) / nrow(df3) mean(df3$确诊) confirmed_mean &lt;- mean(df3$确诊) confirmed_mean df3$confirmed2 &lt;- df3$确诊 - confirmed_mean max(df3$确诊) min(df3$确诊) range(df3$确诊) median(df3$确诊) sd(df3$确诊) colSums(df3[, 3:5], na.rm = TRUE) colMeans(df3[, 3:5], na.rm = TRUE) apply(df3[, 3:5], 2, median, na.rm = TRUE) summary(df3) 2.2.5 Visualization plot(df3$名称, df3$确诊, log = &quot;y&quot;) 2.2.6 Export data and figures write.csv(df3, &#39;data/df3.csv&#39;, fileEncoding = &#39;UTF-8&#39;) pdf(&#39;fig/df3.pdf&#39;) plot(df3$名称, df3$确诊, log = &quot;y&quot;) dev.off() 2.3 R packages 2.3.1 Overview MatLab: toolboxes python: libraries MS Office: modules Chrome: add-ons/plugins Basic R: R packages: Development of R packages: Most popular R packages: How to find: https://cran.r-project.org/web/views/ 2.3.2 Tidyverse install.packages(&#39;tidyverse&#39;) require(tidyverse) df3 %&gt;% ggplot(aes(x = 名称, y = 确诊)) + geom_point() + scale_y_log10() 2.3.3 R markdown install.packages(&#39;rmd&#39;) Use codes in R markdown: RStudio - File - New File - R Markdown. How to get this book locally: Install the R package “blogdown”. Download the repo of this book: Clone or download - Download Zip. Unzip it. Open it in RStudio. Build. 2.3.4 Packages about public health Epi epibasix epiDisplay epiR epitools survey pubh ncovr 2.4 Assignment Assignment 1: Select and calculate data statistics. Submission deadline: 2020-03-09 14:00 (5% of final mark, no re-sit). Find a public health dataset that has been published in literature or government webisites. The dataset must be raw data (not processed) and should consist of at least 20 rows of data with 4 or more columns of associated data. Save the dataset as a .csv file. Create an R markdown file (.Rmd), in which the dataset is imported. In the .Rmd file, report the summary of the dataset with descriptive statistics, including the mean, minimum, maximum, range and standard deviation. Knit the .Rmd file into a .html report. Submit the .csv file, the .Rmd file, and the .html file. Please be aware of the XJTLU policies for timely submission of work. 2.5 Seminar/practice 2.5.1 Basic R Exercise: Calculate the circumference and area of a circle with a radius of 10m, 20m, 30m, 40m, 60m. Exercise: \\(y = \\frac{ax}{e} + b\\), \\(a = 3.2\\), \\(b = 98\\). Calculate the \\(y\\) values when \\(x = 0.2, 2, 20, 200\\). 2.5.2 Data Exercise: Download the data of the Death Rate in the US in 2016. Import the data file into R How many rows and columns? What is death rate of the heart disease in Hawaii? Calculate the mean, maximum, minimum, median of each disease. Create a new column for the death rate of the heart disease with integers. Make a summary of the data frame. Make a scatterplot for each pair of the diseases. Save the data, figure, script, workspace, and history. 2.5.3 R Markdown Exercise: Use the previous exercises and create an exercise report with R Markdown. 2.5.4 Your own Play with your own data: import, calculate, save, and use R Markdown. "]
]
