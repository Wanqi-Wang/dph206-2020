<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 O2 | DPH206 2020 Handbook</title>
  <meta name="description" content="2 O2 | DPH206 2020 Handbook" />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="2 O2 | DPH206 2020 Handbook" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="pzhaonet/dph206-2020" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 O2 | DPH206 2020 Handbook" />
  
  
  

<meta name="author" content="Dr. Lei HAN, Dr. Peng ZHAO" />


<meta name="date" content="2020-02-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DPH206-2020</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> O1</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#basic-information"><i class="fa fa-check"></i><b>1.1</b> Basic Information</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#key-module-information"><i class="fa fa-check"></i><b>1.1.1</b> Key Module Information</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#delivery-schedule"><i class="fa fa-check"></i><b>1.1.2</b> Delivery Schedule</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#module-leader-teaching-staff-and-contact-details"><i class="fa fa-check"></i><b>1.1.3</b> Module Leader, Teaching Staff and Contact Details</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-you-can-expect-from-the-module"><i class="fa fa-check"></i><b>1.2</b> What you can expect from the module</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#educational-aims"><i class="fa fa-check"></i><b>1.2.1</b> Educational Aims</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i><b>1.2.2</b> Learning Outcomes</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#assessment-details"><i class="fa fa-check"></i><b>1.2.3</b> Assessment Details</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#methods-of-learning-and-teaching"><i class="fa fa-check"></i><b>1.2.4</b> Methods of Learning and Teaching</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#syllabus-teaching-plan"><i class="fa fa-check"></i><b>1.2.5</b> Syllabus &amp; Teaching Plan</a></li>
<li class="chapter" data-level="1.2.6" data-path="index.html"><a href="index.html#reading-materials"><i class="fa fa-check"></i><b>1.2.6</b> Reading Materials</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#further-information"><i class="fa fa-check"></i><b>1.3</b> Further Information</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#student-feedback"><i class="fa fa-check"></i><b>1.3.1</b> Student Feedback</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#plagiarism-cheating-and-fabrication-of-data."><i class="fa fa-check"></i><b>1.3.2</b> Plagiarism, Cheating, and Fabrication of Data.</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#rules-of-submission-for-assessed-coursework"><i class="fa fa-check"></i><b>1.3.3</b> Rules of submission for assessed coursework</a></li>
<li class="chapter" data-level="1.3.4" data-path="index.html"><a href="index.html#late-submission-of-assessed-coursework"><i class="fa fa-check"></i><b>1.3.4</b> Late Submission of Assessed Coursework</a></li>
<li class="chapter" data-level="1.3.5" data-path="index.html"><a href="index.html#mitigating-circumstances"><i class="fa fa-check"></i><b>1.3.5</b> Mitigating Circumstances</a></li>
<li class="chapter" data-level="1.3.6" data-path="index.html"><a href="index.html#ice-and-github"><i class="fa fa-check"></i><b>1.3.6</b> ICE and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#required-materials"><i class="fa fa-check"></i><b>1.4</b> Required materials</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#markdown-syntax"><i class="fa fa-check"></i><b>1.5</b> Markdown syntax</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#seminarpractice"><i class="fa fa-check"></i><b>1.6</b> Seminar/practice</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#discussion-software-for-data-analysis"><i class="fa fa-check"></i><b>1.6.1</b> Discussion: Software for data analysis</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#practice-markdown-r-markdown-and-reproducible-research"><i class="fa fa-check"></i><b>1.6.2</b> Practice: Markdown, R markdown, and reproducible research</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="w2.html"><a href="w2.html"><i class="fa fa-check"></i><b>2</b> O2</a><ul>
<li class="chapter" data-level="2.1" data-path="w2.html"><a href="w2.html#data-analysis-software"><i class="fa fa-check"></i><b>2.1</b> Data analysis software</a></li>
<li class="chapter" data-level="2.2" data-path="w2.html"><a href="w2.html#r-essentials"><i class="fa fa-check"></i><b>2.2</b> R essentials</a><ul>
<li class="chapter" data-level="2.2.1" data-path="w2.html"><a href="w2.html#rstudio"><i class="fa fa-check"></i><b>2.2.1</b> RStudio</a></li>
<li class="chapter" data-level="2.2.2" data-path="w2.html"><a href="w2.html#data-types"><i class="fa fa-check"></i><b>2.2.2</b> Data types</a></li>
<li class="chapter" data-level="2.2.3" data-path="w2.html"><a href="w2.html#import-data"><i class="fa fa-check"></i><b>2.2.3</b> Import data</a></li>
<li class="chapter" data-level="2.2.4" data-path="w2.html"><a href="w2.html#statistics"><i class="fa fa-check"></i><b>2.2.4</b> Statistics</a></li>
<li class="chapter" data-level="2.2.5" data-path="w2.html"><a href="w2.html#visualization"><i class="fa fa-check"></i><b>2.2.5</b> Visualization</a></li>
<li class="chapter" data-level="2.2.6" data-path="w2.html"><a href="w2.html#export-data-and-figures"><i class="fa fa-check"></i><b>2.2.6</b> Export data and figures</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="w2.html"><a href="w2.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R packages</a><ul>
<li class="chapter" data-level="2.3.1" data-path="w2.html"><a href="w2.html#overview"><i class="fa fa-check"></i><b>2.3.1</b> Overview</a></li>
<li class="chapter" data-level="2.3.2" data-path="w2.html"><a href="w2.html#tidyverse"><i class="fa fa-check"></i><b>2.3.2</b> Tidyverse</a></li>
<li class="chapter" data-level="2.3.3" data-path="w2.html"><a href="w2.html#r-markdown"><i class="fa fa-check"></i><b>2.3.3</b> R markdown</a></li>
<li class="chapter" data-level="2.3.4" data-path="w2.html"><a href="w2.html#packages-about-public-health"><i class="fa fa-check"></i><b>2.3.4</b> Packages about public health</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="w2.html"><a href="w2.html#assignment"><i class="fa fa-check"></i><b>2.4</b> Assignment</a></li>
<li class="chapter" data-level="2.5" data-path="w2.html"><a href="w2.html#seminarpractice-1"><i class="fa fa-check"></i><b>2.5</b> Seminar/practice</a><ul>
<li class="chapter" data-level="2.5.1" data-path="w2.html"><a href="w2.html#basic-r"><i class="fa fa-check"></i><b>2.5.1</b> Basic R</a></li>
<li class="chapter" data-level="2.5.2" data-path="w2.html"><a href="w2.html#data"><i class="fa fa-check"></i><b>2.5.2</b> Data</a></li>
<li class="chapter" data-level="2.5.3" data-path="w2.html"><a href="w2.html#r-markdown-1"><i class="fa fa-check"></i><b>2.5.3</b> R Markdown</a></li>
<li class="chapter" data-level="2.5.4" data-path="w2.html"><a href="w2.html#your-own"><i class="fa fa-check"></i><b>2.5.4</b> Your own</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="./" target="blank">by Dr. Peng ZHAO and Dr. Lei HAN</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DPH206 2020 Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="w2" class="section level1">
<h1><span class="header-section-number">2</span> O2</h1>
<div id="data-analysis-software" class="section level2">
<h2><span class="header-section-number">2.1</span> Data analysis software</h2>
<ul>
<li>Fortran, C</li>
</ul>
<p><embed src="https://www.wikihow.com/images/thumb/5/5d/Fortran-hello-world-program-write-corrected.png/728px-Fortran-hello-world-program-write-corrected.png.webp" /></p>
<ul>
<li>Excel, WPS, Libreoffice, OriginLab</li>
</ul>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Libreoffice_Calc_in_Linux.png/1280px-Libreoffice_Calc_in_Linux.png?1582839484266" /></p>
<ul>
<li>Visual Basic, R, Python, Matlab, Scilab</li>
</ul>
<p><img src="https://www.scilab.org/sites/all/themes/scilab/images/scilab601c.png" /></p>
<ul>
<li>SPSS, Epi Info, NVivo, ArcGIS</li>
</ul>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/1/14/Epiinfoanalisis.jpg" /></p>
<p><img src="https://i0.wp.com/makemeanalyst.com/wp-content/uploads/2017/07/top10-analytics-data-science-software-2016.jpg?w=466" /></p>
<p>Roger D. Peng: I don’t think anyone actually believes that R is designed to
make <em>everyone</em> happy. For me, R does about 99% of the things I need to do, but
sadly, when I need to order a pizza, I still have to pick up the telephone.
Douglas Bates: There are several chains of pizzerias in the U.S. that provide
for Internet-based ordering (e.g. www.papajohnsonline.com) so, with the
Internet modules in R, it’s only a matter of time before you will have a
pizza-ordering function available.
Brian D. Ripley: Indeed, the GraphApp toolkit (used for the RGui interface
under R for Windows, but Guido forgot to include it) provides one (for use in
Sydney, Australia, we presume as that is where the GraphApp author hails from).
Alternatively, a Padovian has no need of ordering pizzas with both home and
neighbourhood restaurants ….
– Roger D. Peng, Douglas Bates, and Brian D. Ripley
R-help (June 2004)</p>
</div>
<div id="r-essentials" class="section level2">
<h2><span class="header-section-number">2.2</span> R essentials</h2>
<div id="rstudio" class="section level3">
<h3><span class="header-section-number">2.2.1</span> RStudio</h3>
<p>Interface:</p>
<p><img src="https://bookdown.org/ndphillips/YaRrr/images/RStudio_Screenshot_Labels.png" /></p>
<p>Hotkeys:</p>
<ul>
<li>ctrl + enter</li>
<li>TAB</li>
<li>F1</li>
<li>shift + alt + k (see all shortcuts)</li>
</ul>
<p>R project:</p>
<ul>
<li>File - New project - New directory - New project</li>
<li>Organize your R scripts and products in a project:
<ul>
<li>Save your related files in the project folder</li>
<li>Start your work from the .Rproj file</li>
</ul></li>
</ul>
</div>
<div id="data-types" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Data types</h3>
<p>Six basic data types:</p>
<ol style="list-style-type: decimal">
<li>numeric: 2, 15.5</li>
<li>character: “a”, “male”</li>
<li>logical: TRUE, FALSE</li>
<li>integer</li>
<li>complex</li>
<li>raw</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">class</span>(x)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">mode</span>(x)</a></code></pre></div>
<p>Numeric:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span> <span class="op">*</span><span class="st"> </span><span class="dv">5</span> <span class="op">/</span><span class="st"> </span><span class="dv">6</span> <span class="op">^</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) <span class="op">^</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">round</span>(<span class="fl">3.14</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">sqrt</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">exp</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">log</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="kw">log10</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span> <span class="co"># alt + _</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">mean</span>(x) <span class="co"># min(), max(), range(), mean(), sd(x)</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co"># comment</span></a></code></pre></div>
<p>Character:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;m&#39;</span>, <span class="st">&#39;f&#39;</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&#39;gender_&#39;</span>, x)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">y</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">y &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;gender_&#39;</span>, x)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">y</a></code></pre></div>
<p>Logical:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="dv">1</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="dv">1</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<p>Simple <code>if()</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">hour &lt;-<span class="st"> </span><span class="dv">12</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="cf">if</span>(hour <span class="op">==</span><span class="st"> </span><span class="dv">12</span>) {</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&#39;Time for lunch. Go!&#39;</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">hour &lt;-<span class="st"> </span><span class="dv">12</span></a></code></pre></div>
<p><code>if()... else...</code> and <code>ifelse()</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="cf">if</span>(hour <span class="op">&lt;</span><span class="st"> </span><span class="dv">12</span>) {</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  <span class="kw">print</span>(<span class="st">&#39;Good morning.&#39;</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&#39;Good afternoon.&#39;</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">x2 &lt;-<span class="st"> </span><span class="kw">ifelse</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="kw">mean</span>(x), </a>
<a class="sourceLine" id="cb6-9" data-line-number="9">             <span class="kw">print</span>(<span class="st">&#39;low&#39;</span>), </a>
<a class="sourceLine" id="cb6-10" data-line-number="10">             <span class="kw">print</span>(<span class="st">&#39;high&#39;</span>))</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">x2</a></code></pre></div>
<p>Loop:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co"># repeat the same work</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="cf">for</span>(i <span class="cf">in</span> x){</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&#39;Hello World!&#39;</span>)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co"># different work</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="cf">for</span>(i <span class="cf">in</span> x){</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">}</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="cf">for</span>(i <span class="cf">in</span> x){</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="kw">dir.create</span>(<span class="kw">as.character</span>(i))</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="cf">for</span>(i <span class="cf">in</span> x){</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  <span class="kw">unlink</span>(<span class="kw">as.character</span>(i), <span class="dt">recursive =</span> <span class="ot">TRUE</span>, <span class="dt">force =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">}</a></code></pre></div>
</div>
<div id="import-data" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Import data</h3>
<p>From manual input:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">age =</span> <span class="kw">c</span>(<span class="dv">21</span>, <span class="dv">31</span>, <span class="dv">23</span>, <span class="dv">40</span>, <span class="dv">36</span>),</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">                  <span class="dt">gender =</span> <span class="kw">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;m&#39;</span>, <span class="st">&#39;m&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;f&#39;</span>))</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">df1</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">require</span>(tibble)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">df2 &lt;-<span class="st"> </span><span class="kw">tribble</span>(</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">  <span class="op">~</span>age, <span class="op">~</span>gender,</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">  <span class="dv">76</span>,    <span class="st">&#39;f&#39;</span>,</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  <span class="dv">79</span>,    <span class="st">&#39;m&#39;</span>,</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">  <span class="dv">85</span>,    <span class="st">&#39;f&#39;</span>,</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">  <span class="dv">93</span>,    <span class="st">&#39;f&#39;</span>,</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">  <span class="dv">88</span>,    <span class="st">&#39;m&#39;</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13">)</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">df2</a></code></pre></div>
<p>Read from data file (<a href="https://raw.githubusercontent.com/pzhaonet/dph206-2020/master/data/death_rate.csv">download data</a>):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">dr1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/death_rate.csv&#39;</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">dr1</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">dr2 &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;data/death_rate.csv&#39;</span>)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">dr2</a></code></pre></div>
<p>Three tricks for the Support of Chinese:</p>
<ol style="list-style-type: decimal">
<li>Save the dataset as UTF-8.</li>
<li>Set the system locale as Chinese.</li>
<li>Read the data file with <code>encoding = 'UTF-8'</code>.</li>
</ol>
<p><a href="https://raw.githubusercontent.com/pzhaonet/dph206-2020/master/data/ncov.csv">Download data</a> before running the following codes.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">Sys.getlocale</span>()</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">Sys.setlocale</span>(<span class="st">&#39;LC_CTYPE&#39;</span>, <span class="st">&#39;Chinese&#39;</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">df3 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/ncov.csv&#39;</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">df3 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/ncov.csv&#39;</span>, <span class="dt">encoding =</span> <span class="st">&#39;UTF-8&#39;</span>)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">df3</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">df4 &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;data/ncov.csv&#39;</span>)</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">df4</a></code></pre></div>
<p>Indexing:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">df1</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">df1[<span class="dv">1</span>, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">df1[, <span class="dv">1</span>]</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">df1<span class="op">$</span>age</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw">mean</span>(df1<span class="op">$</span>age)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="kw">mean</span>(df1<span class="op">$</span>age[df1<span class="op">$</span>gender <span class="op">==</span><span class="st"> &#39;f&#39;</span>])</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="kw">tapply</span>(df1<span class="op">$</span>age, df1<span class="op">$</span>gender, mean)</a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">str</span>(df1)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw">str</span>(df1<span class="op">$</span>age)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">class</span>(df1)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="kw">dim</span>(df1)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw">rownames</span>(df1)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="kw">colnames</span>(df1)</a></code></pre></div>
</div>
<div id="statistics" class="section level3">
<h3><span class="header-section-number">2.2.4</span> Statistics</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">df3 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/ncov.csv&#39;</span>, <span class="dt">encoding =</span> <span class="st">&#39;UTF-8&#39;</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">length</span>(df3)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="kw">ncol</span>(df3)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="kw">nrow</span>(df3)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="kw">sum</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="kw">sum</span>(df3<span class="op">$</span>确诊) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(df3)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw">mean</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">confirmed_mean &lt;-<span class="st"> </span><span class="kw">mean</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">confirmed_mean</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">df3<span class="op">$</span>confirmed2 &lt;-<span class="st"> </span>df3<span class="op">$</span>确诊 <span class="op">-</span><span class="st"> </span>confirmed_mean</a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="kw">max</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="kw">min</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="kw">range</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="kw">median</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="kw">sd</span>(df3<span class="op">$</span>确诊)</a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="kw">colSums</span>(df3[, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="kw">colMeans</span>(df3[, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="kw">apply</span>(df3[, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>], <span class="dv">2</span>, median, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="kw">summary</span>(df3)</a></code></pre></div>
</div>
<div id="visualization" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Visualization</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">plot</span>(df3<span class="op">$</span>名称, df3<span class="op">$</span>确诊, <span class="dt">log =</span> <span class="st">&quot;y&quot;</span>)</a></code></pre></div>
</div>
<div id="export-data-and-figures" class="section level3">
<h3><span class="header-section-number">2.2.6</span> Export data and figures</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">write.csv</span>(df3, <span class="st">&#39;data/df3.csv&#39;</span>, <span class="dt">fileEncoding =</span> <span class="st">&#39;UTF-8&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">pdf</span>(<span class="st">&#39;fig/df3.pdf&#39;</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">plot</span>(df3<span class="op">$</span>名称, df3<span class="op">$</span>确诊, <span class="dt">log =</span> <span class="st">&quot;y&quot;</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="kw">dev.off</span>()</a></code></pre></div>
</div>
</div>
<div id="r-packages" class="section level2">
<h2><span class="header-section-number">2.3</span> R packages</h2>
<div id="overview" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Overview</h3>
<ul>
<li>MatLab: toolboxes</li>
<li>python: libraries</li>
<li>MS Office: modules</li>
<li>Chrome: add-ons/plugins</li>
</ul>
<p>Basic R:</p>
<p><img src="https://hips.hearstchina.com/hmg-prod.s3.amazonaws.com/images/1138749846.jpg?resize=980:*" /></p>
<p>R packages:</p>
<p><img src="images/nezha2.jpg" /><!-- --></p>
<p>Development of R packages:</p>
<p><img src="https://revolution-computing.typepad.com/.a/6a010534b1db25970b01b8d2594d25970c-pi" /></p>
<p>Most popular R packages:</p>
<p><img src="https://www.kdnuggets.com/wp-content/uploads/top-20-r-packages-downloads.jpg" /></p>
<p>How to find:</p>
<ul>
<li><a href="https://cran.r-project.org/web/views/" class="uri">https://cran.r-project.org/web/views/</a></li>
</ul>
</div>
<div id="tidyverse" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Tidyverse</h3>
<p><img src="https://biostat2.uni.lu/lectures/img/01/tidyverse_data_science.png" width="100%" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;tidyverse&#39;</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">require</span>(tidyverse)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">df3 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> 名称, <span class="dt">y =</span> 确诊)) <span class="op">+</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_y_log10</span>()</a></code></pre></div>
</div>
<div id="r-markdown" class="section level3">
<h3><span class="header-section-number">2.3.3</span> R markdown</h3>
<p><img src="https://steemitimages.com/0x0/https://www.pzhao.org/slides/ross-mpic/img/workflow.png" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;rmd&#39;</span>)</a></code></pre></div>
<p>Use codes in R markdown: RStudio - File - New File - R Markdown.</p>
<p>How to get this book locally:</p>
<ul>
<li>Install the R package “blogdown”.</li>
<li>Download the repo of <a href="https://github.com/pzhaonet/dph206-2020">this book</a>: Clone or download - Download Zip.</li>
<li>Unzip it.</li>
<li>Open it in RStudio.</li>
<li>Build.</li>
</ul>
</div>
<div id="packages-about-public-health" class="section level3">
<h3><span class="header-section-number">2.3.4</span> Packages about public health</h3>
<ul>
<li>Epi</li>
<li>epibasix</li>
<li>epiDisplay</li>
<li>epiR</li>
<li>epitools</li>
<li>survey</li>
<li>pubh</li>
<li>ncovr</li>
</ul>
</div>
</div>
<div id="assignment" class="section level2">
<h2><span class="header-section-number">2.4</span> Assignment</h2>

<div class="rmdas">
<p>Assignment 1: Select and calculate data statistics. Submission deadline: 2020-03-09 14:00 (5% of final mark, no re-sit).</p>
<ol style="list-style-type: decimal">
<li>Find a public health dataset that has been published in literature or government webisites. The dataset must be raw data (not processed) and should consist of at least 20 rows of data with 4 or more columns of associated data. Save the dataset as a .csv file.</li>
<li>Create an R markdown file (.Rmd), in which the dataset is imported.</li>
<li>In the .Rmd file, report the summary of the dataset with descriptive statistics, including the mean, minimum, maximum, range and standard deviation.</li>
<li>Knit the .Rmd file into a .html report.</li>
<li>Submit the .csv file, the .Rmd file, and the .html file.</li>
</ol>
Please be aware of the XJTLU policies for timely submission of work.
</div>

</div>
<div id="seminarpractice-1" class="section level2">
<h2><span class="header-section-number">2.5</span> Seminar/practice</h2>
<div id="basic-r" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Basic R</h3>

<div class="rmdex">
<p>Exercise:</p>
Calculate the circumference and area of a circle with a radius of 10m, 20m, 30m, 40m, 60m.
</div>


<div class="rmdex">
<p>Exercise:</p>
<span class="math inline">\(y = \frac{ax}{e} + b\)</span>, <span class="math inline">\(a = 3.2\)</span>, <span class="math inline">\(b = 98\)</span>. Calculate the <span class="math inline">\(y\)</span> values when <span class="math inline">\(x = 0.2, 2, 20, 200\)</span>.
</div>

</div>
<div id="data" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Data</h3>

<div class="rmdex">
<p>Exercise:</p>
<ol style="list-style-type: decimal">
<li>Download the data of the Death Rate in the US in 2016.</li>
<li>Import the data file into R</li>
<li>How many rows and columns?</li>
<li>What is death rate of the heart disease in Hawaii?</li>
<li>Calculate the mean, maximum, minimum, median of each disease.</li>
<li>Create a new column for the death rate of the heart disease with integers.</li>
<li>Make a summary of the data frame.</li>
<li>Make a scatterplot for each pair of the diseases.</li>
<li>Save the data, figure, script, workspace, and history.
</div></li>
</ol>
</div>
<div id="r-markdown-1" class="section level3">
<h3><span class="header-section-number">2.5.3</span> R Markdown</h3>

<div class="rmdex">
<p>Exercise:</p>
Use the previous exercises and create an exercise report with R Markdown.
</div>

</div>
<div id="your-own" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Your own</h3>

<div class="rmdds">
Play with your own data: import, calculate, save, and use R Markdown.
</div>


</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
